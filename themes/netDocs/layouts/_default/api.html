{{ define "menu"}}

{{ partial "menu/menu-sectiontree" . }}

{{ end }}


{{ define "main" }}
<div id="swagger-ui"></div>
    {{ $bundle := resources.Get "api/swagger-ui-bundle.js"}}
    {{ $standalone := resources.Get "api/swagger-ui-standalone-preset.js" }}
    <script src="{{ $bundle.Permalink }}" charset="UTF-8"> </script>
    <script src="{{ $standalone.Permalink }}" charset="UTF-8"> </script>
    {{ $api_url := printf "%s/%s" .File.Dir "openapi.json" }}

    <script>
    window.onload = function() {
      // Begin Swagger UI call region
      const ui = SwaggerUIBundle({
        url: "{{ $api_url | absURL }}",
        dom_id: '#swagger-ui',
        deepLinking: true,
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIStandalonePreset
        ],
        plugins: [
          SwaggerUIBundle.plugins.DownloadUrl
        ],
        layout: "StandaloneLayout"
      });
      // End Swagger UI call region

      window.ui = ui;
    };
  </script>
{{ end }}
